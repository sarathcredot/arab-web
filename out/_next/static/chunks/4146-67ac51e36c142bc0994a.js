(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4146],{5128:function(e,t,i){"use strict";var n=i(7294),l=n.createElement;function o(e){var t=e.adClass;return l("div",{className:"category-banner banner banner2 d-flex align-items-center justify-content-end ".concat(t),style:{backgroundImage:"url(images/home/banners/banner2.jpg)"}},l("div",{className:"container d-flex align-items-center justify-content-end"},l("div",{className:"banner-layer text-right pt-0"},l("h4",{className:"text-dark mb-0 pl-3 pr-3 pt-1 pb-1"},"TOP ELECTRONIC",l("br",null),"FOR GIFTS"))))}t.Z=n.memo(o)},101:function(e,t,i){"use strict";var n=i(6265),l=i(9999),o=i(7261),r=i(7294),a=i(2954),d=i(9322),s=i.n(d),c=i(5804),u=(i(1081),i(1163)),g=i(6058),p=i(4718),v=i(3331),m=i(4733),f=i(8974),b=(i(129),r.createElement);function y(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function h(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?y(Object(i),!0).forEach((function(t){(0,n.Z)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):y(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function N(){var e=(0,o.Z)(["\n  query GetProductsMaxPrice($input: categoriesInput!) {\n    getProductsMaxPrice(input: $input) {\n      maxPrice\n      message\n    }\n  }\n"]);return N=function(){return e},e}function w(){var e=(0,o.Z)(["\n  query GetBrandDetailsWithCategory($input: BrandsDetailsWithCategoryIdInput!) {\n    getBrandDetailsWithCategory(input: $input) {\n      message\n      records {\n        _id\n        brandName\n        logo {\n          fileType\n          originalName\n          fileURL\n        }\n        isPopular\n        priority\n      }\n    }\n  }\n"]);return w=function(){return e},e}function x(){var e=(0,o.Z)(["\n  query Query($input: AttributesDetailsWithCategoryIdInput!) {\n    getAttributesDetailsByCategory(input: $input) {\n      message\n      record {\n        _id\n        categoryName\n        attributes {\n          _id\n          attributeType\n          attributeValues {\n            value\n            _id\n          }\n          name\n          description\n        }\n      }\n    }\n  }\n"]);return x=function(){return e},e}var C=(0,g.Ps)(x()),B=(0,g.Ps)(w()),_=(0,g.Ps)(N());t.ZP=(0,v.Z)({ssr:!1})((function(e){var t,i,o,d,g,v,y,N=(0,u.useRouter)(),w=N.query,x=null===w||void 0===w?void 0:w.cat_id,k=(null===w||void 0===w||w.brand,(0,r.useState)([])),P=k[0],D=k[1],L=(0,r.useState)("Price Low-High"),O=(L[0],L[1]),T=(0,r.useState)([]);T[0],T[1],console.log(w);var E=(0,p.a)(m.EP,{variables:{input:{parent:x}}}),S=E.data,Z=E.loading,W=E.error;console.log(S);var j=(0,p.a)(_,{variables:{input:{categories:[x]}}}),q=j.data;j.loading,j.priceError,console.log(q);var A=null!==q&&void 0!==q&&null!==(t=q.getProductsMaxPrice)&&void 0!==t&&t.maxPrice?null===q||void 0===q||null===(i=q.getProductsMaxPrice)||void 0===i?void 0:i.maxPrice:1e3;console.log(S);var F=(0,p.a)(C,{variables:{input:{categoryId:x}}}),I=F.data,R=(F.loading,F.error,(0,p.a)(B,{variables:{input:{categoryId:x}}})),H=R.data,M=(R.loading,R.error,(0,r.useState)({min:0,max:1e3})),z=M[0],V=M[1];function $(e){V(e)}function G(e,t){var i=w[e]?w[e].split(","):[];return i&&i.includes(t)}function Q(e,t){var i=w[e]?w[e].split(","):[];return(i=G(e,t)?i.filter((function(e){return e!==t})):[].concat((0,l.Z)(i),[t])).join(",")}function U(e){console.log(e);var t=e.target.value;O(t);var i=h(h({},N.query),{},{sort_order:t});N.replace({pathname:N.pathname,query:i})}function X(e){console.log(e);var t=N.query;N.push({pathname:N.pathname,query:h(h({},t),{},{discount:e,page:0})})}function J(){document.querySelector("body").classList.contains("sidebar-opened")&&document.querySelector("body").classList.remove("sidebar-opened")}return(0,r.useEffect)((function(){return function(){J()}}),[]),(0,r.useEffect)((function(){w.min_price&&w.max_price?V({min:parseInt(w.min_price),max:parseInt(w.max_price)}):V({min:0,max:A})}),[w,A]),(0,r.useEffect)((function(){var t;console.log("click");var i=e.brand;if(console.log(i),console.log(H),i&&null!==H&&void 0!==H&&null!==(t=H.getBrandDetailsWithCategory)&&void 0!==t&&t.records){var n,l=null===(n=H.getBrandDetailsWithCategory.records.find((function(e){return e._id===i})))||void 0===n?void 0:n.brandName;l&&(console.log("click"),D([l]))}}),[H]),W?b("div",null,W.message):b(r.Fragment,null,b("div",{className:"sidebar-overlay",onClick:J}),b("aside",{className:"sidebar-shop col-lg-3 pb-lg-3 mobile-sidebar skeleton-body skel-shop-products ".concat(Z?"":"loaded"," ").concat("none"===e.display?"d-lg-none":""," ").concat(e.right?"":"order-lg-first"),style:{paddingLeft:"0",paddingRight:"0",maxHeight:"976px",overflow:"scroll"}},b(c.Z,{className:"sidebar-wrapper",offsetTop:0},b("div",{className:"widget",style:{padding:"0"}},Z?b("div",{className:"skel-widget"}):b(a.Z,null,(function(e){var t,i,n,l=e.onToggle,o=e.setCollapsibleElement,a=e.toggleState;return b(r.Fragment,null,b("h3",{className:"widget-title",style:{borderBottom:"1px solid",borderColor:"#DDDDDD",width:"298px",marginLeft:"0px",paddingBottom:"20px"}},b("a",{href:"#",onClick:function(e){e.preventDefault(),l()},className:"COLLAPSED"===a?"collapsed":"",style:{marginLeft:"20px",marginTop:"20px"}},"Categories")),b("div",{className:"overflow-hidden",ref:o},b("div",{className:"widget-body pb-4 m-4"},b("ul",null,S&&(null===S||void 0===S||null===(t=S.getActiveChildCategories)||void 0===t?void 0:t.records.length)>0?null===S||void 0===S||null===(i=S.getActiveChildCategories)||void 0===i||null===(n=i.records)||void 0===n?void 0:n.map((function(e,t){return b("li",{key:"category-".concat(t)},b(f.Z,{className:"custom-categorylabels",href:{query:h(h({},w),{},{page:0,category:Q("category",e._id)})},scroll:!1,style:G("category",null===e||void 0===e?void 0:e._id)?{color:"red"}:{}},null===e||void 0===e?void 0:e.categoryName))})):b("li",null,"No categories")))))}))),w.category||w.page||w.sizes||w.colors||w.min_price||w.max_price||w.discount?b("div",{className:"widget"},b(f.Z,{href:{query:{cat_id:w.cat_id}},scroll:!1,className:"btn btn-primary reset-filter"},"Reset All Filters")):"",H&&(null===H||void 0===H||null===(o=H.getBrandDetailsWithCategory)||void 0===o?void 0:o.records.length)>0&&b("div",{className:" widget-brand"},Z?b("div",{className:"skel-widget"}):b(a.Z,null,(function(e){var t,i,n,o=e.onToggle,a=e.setCollapsibleElement,d=e.toggleState;return b(r.Fragment,null,H&&(null===H||void 0===H||null===(t=H.getBrandDetailsWithCategory)||void 0===t?void 0:t.records.length)>0?b("div",{style:{borderBottom:"1px solid #B9B9B9",borderTop:"1px solid #B9B9B9",padding:"2rem"}},b("h3",{className:"widget-title"},b("a",{className:"COLLAPSED"===d?"collapsed":"",href:"#",onClick:function(e){e.preventDefault(),o()}},"Brand"))):"",b("div",{className:"overflow-hidden widget",ref:a},b("div",{className:"widget-body pb-0"},b("ul",{className:"cat-list"},null===H||void 0===H||null===(i=H.getBrandDetailsWithCategory)||void 0===i||null===(n=i.records)||void 0===n?void 0:n.map((function(e,t){var i;return b("li",null,b(f.Z,{href:{query:h(h({},w),{},{page:0,brands:Q("brands",e._id)})},key:"brands-".concat(t),scroll:!1},b("label",{htmlFor:e.brandName,style:G("brands",e._id)?{color:"red",fontWeight:"500"}:{color:"inherit",fontWeight:"500"}},b("input",{id:e.brandName,type:"checkbox",checked:null===w||void 0===w||null===(i=w.brands)||void 0===i?void 0:i.includes(e._id),onChange:function(){return t=e.brandName,console.log(P),void(P.includes(t)?D(P.filter((function(e){return e!==t}))):D([].concat((0,l.Z)(P),[t])));var t},style:{marginRight:"5px"}}),e.brandName)))}))))))}))),b("div",{className:" widget-brand"},Z?b("div",{className:"skel-widget"}):b(a.Z,null,(function(e){var t=e.onToggle,i=e.setCollapsibleElement,n=e.toggleState;return b(r.Fragment,null,b("div",{style:{borderBottom:"1px solid #B9B9B9",borderTop:"1px solid #B9B9B9",padding:"2rem"}},b("h3",{className:"widget-title"},b("a",{className:"COLLAPSED"===n?"collapsed":"",href:"#",onClick:function(e){e.preventDefault(),t()}},"Sort"))),b("div",{className:"overflow-hidden widget",ref:i},b("div",{className:"widget-body pb-0"},b("ul",{className:"cat-list"},b("li",null,b("input",{type:"radio",id:"none",name:"fav_language",value:"none",onChange:U}),b("label",{for:"none",style:{color:"none"===w.sort_order?"red":"inherit",fontWeight:"500"}}," \xa0None")),b("li",null,b("input",{type:"radio",id:"lowToHigh",name:"fav_language",value:"lowToHigh",onChange:U}),b("label",{for:"lowToHigh",style:{color:"lowToHigh"===w.sort_order?"red":"inherit",fontWeight:"500"}}," \xa0Price Low- High")),b("li",null,b("input",{type:"radio",id:"highToLow",name:"fav_language",value:"highToLow",onChange:U}),b("label",{for:"highToLow",style:{color:"highToLow"===w.sort_order?"red":"inherit",fontWeight:"500"}}," \xa0Price High-Low"))))))}))),b("div",{className:" widget-brand"},Z?b("div",{className:"skel-widget"}):b(a.Z,null,(function(e){var t=e.onToggle,i=e.setCollapsibleElement,n=e.toggleState;return b(r.Fragment,null,b("div",{style:{borderBottom:"1px solid #B9B9B9",borderTop:"1px solid #B9B9B9",padding:"2rem"}},b("h3",{className:"widget-title "},b("a",{className:"COLLAPSED"===n?"collapsed":"",href:"#",onClick:function(e){e.preventDefault(),t()}},"Discount"))),b("div",{className:"overflow-hidden widget",ref:i},b("div",{className:"widget-body pb-0"},b("ul",{className:"cat-list"},b("li",null,b("label",{onClick:function(){return X("10")},style:{color:"10"===w.discount?"red":"inherit",fontWeight:"500"}},"10% off or more")),b("li",null,b("label",{onClick:function(){return X("25%")},style:{color:"25"===w.discount?"red":"inherit",fontWeight:"500"}},"25% off or more")),b("li",null,b("label",{onClick:function(){return X("50")},style:{color:"50"===w.discount?"red":"inherit",fontWeight:"500"}}," 50% off or more")),b("li",null,b("label",{onClick:function(){return X("75")},style:{color:"75"===w.discount?"red":"inherit",fontWeight:"500"}},"75% off or more"))))))}))),b("div",{className:" widget-price overflow-hidden",style:{padding:"0"}},Z?b("div",{className:"skel-widget"}):b(a.Z,null,(function(e){var t=e.onToggle,i=e.setCollapsibleElement,n=e.toggleState;return b(r.Fragment,null,b("div",{style:{borderBottom:"1px solid #B9B9B9",borderTop:"1px solid #B9B9B9",padding:"2rem"}},b("h3",{className:"widget-title",style:{width:"298px",marginLeft:"0px"}},b("a",{className:"COLLAPSED"===n?"collapsed":"",href:"#",role:"button",onClick:function(e){e.preventDefault(),t()}},"Price"))),b("div",{ref:i},b("div",{className:"widget-body pb-2",style:{padding:"20px"}},b("form",{action:"#"},b("div",{className:"price-slider-wrapper"},b(s(),{maxValue:A,minValue:0,step:50,value:z,onChange:$})),b("div",{className:"filter-price-action d-flex align-items-center justify-content-between flex-wrap"},b("div",{className:"filter-price-text",style:{fontFamily:"Poppins",fontWeight:"500px",fontSize:"12px"}},"Price:"," ",b("span",{id:"filter-price-range"},"OMR ",z.min," \u2014 ",z.max)),b("button",{type:"button",className:"btn ",style:{backgroundColor:"black",color:"white"},onClick:function(e){return function(e){e.preventDefault();var t=h(h({},N.query),{},{max_price:z.max,min_price:z.min});N.replace({pathname:N.pathname,query:t})}(e)}},"Filter"))))))}))),(null===I||void 0===I||null===(d=I.getAttributesDetailsByCategory)||void 0===d?void 0:d.record.attributes.length)>0&&(null===I||void 0===I||null===(g=I.getAttributesDetailsByCategory)||void 0===g||null===(v=g.record)||void 0===v||null===(y=v.attributes)||void 0===y?void 0:y.map((function(e,t){var i;return console.log(e),i="COLOR"===e.attributeType?b("div",{className:" widget-color",style:{padding:"0"}},Z?b("div",{className:"skel-widget"}):b(a.Z,null,(function(t){var i=t.onToggle,l=t.setCollapsibleElement,o=t.toggleState;return b(r.Fragment,null,b("div",{style:{borderBottom:"1px solid #B9B9B9",borderTop:"1px solid #B9B9B9",padding:"2rem"}},b("h3",{className:"widget-title",style:{width:"298px",marginLeft:"0px"}},b("a",{className:"COLLAPSED"===o?"collapsed":"",href:"#",onClick:function(e){e.preventDefault(),i()}},null===e||void 0===e?void 0:e.description))),b("div",{className:"overflow-hidden widget",ref:l},b("div",{className:"widget-body pb-4"},b("ul",{className:"config-swatch-list",style:{width:"359px",height:"48px",gap:"2px",padding:"20px"}},null===e||void 0===e?void 0:e.attributeValues.map((function(t,i){return b("li",{className:G([null===e||void 0===e?void 0:e._id],null===t||void 0===t?void 0:t._id)?"active":"",key:"".concat(null===e||void 0===e?void 0:e._id,"-").concat(i),style:{width:"38px",height:"38px"}},b(f.Z,{href:{query:h(h({},w),{},(0,n.Z)({page:0},null===e||void 0===e?void 0:e._id,Q(null===e||void 0===e?void 0:e._id,t._id)))},style:{backgroundColor:null===t||void 0===t?void 0:t.value,borderRadius:"50%",border:"1px solid black"},scroll:!1}))}))))))}))):b("div",{className:" widget-normal",style:{padding:"0"}},Z?b("div",{className:"skel-widget"}):b(a.Z,null,(function(t){var i,l=t.onToggle,o=t.setCollapsibleElement,a=t.toggleState;return b(r.Fragment,null,b("div",{style:{borderBottom:"1px solid #B9B9B9",borderTop:"1px solid #B9B9B9",padding:"2rem"}},b("h3",{className:"widget-title",style:{width:"298px",marginLeft:"0px"}},b("a",{className:"COLLAPSED"===a?"collapsed":"",href:"#",onClick:function(e){e.preventDefault(),l()}},null===e||void 0===e?void 0:e.description))),b("div",{className:"overflow-hidden widget",ref:o},b("div",{style:{padding:"10px"}},b("div",{style:{display:"flex",flexWrap:"wrap",maxWidth:"286px"}},(null===e||void 0===e?void 0:e.attributeValues.length)>0&&(null===e||void 0===e||null===(i=e.attributeValues)||void 0===i?void 0:i.map((function(t,i){var l,o=null===e||void 0===e?void 0:e._id;((null===(l=w[o])||void 0===l?void 0:l.split(","))||[]).includes(t._id);return b(f.Z,{className:"custom-categorylabels",href:{query:h(h({},w),{},(0,n.Z)({page:0},null===e||void 0===e?void 0:e._id,Q(null===e||void 0===e?void 0:e._id,t._id)))},key:"".concat(null===e||void 0===e?void 0:e._id,"-").concat(i),scroll:!1,style:G(null===e||void 0===e?void 0:e._id,t._id)?{color:"red"}:{}},b("div",{style:{border:"1px solid rgb(220, 220, 220)",padding:"10px"}},t.value))})))))))}))),b("div",{key:t},i)}))))))}))},129:function(e,t,i){"use strict";i.d(t,{oQ:function(){return n},jU:function(){return l}});var n=[{color:"#000",name:"black"},{color:"#0188cc",name:"blue"},{color:"#81d742",name:"green"},{color:"#6085a5",name:"indigo"},{color:"#ab6e6e",name:"red"}],l=[{size:"XL",name:"Extra Large"},{size:"L",name:"Large"},{size:"M",name:"Medium"},{size:"S",name:"Small"}]}}]);