(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5426],{2052:function(e,a,l){"use strict";l.r(a),l.d(a,{ACCOUNT_DETAIL:function(){return h},USER_DETAIL:function(){return x}});var n=l(809),r=l.n(n),i=l(2447),t=l(4121),s=l(7261),o=l(7294),u=(l(8216),l(8974)),d=l(2439),m=l(9710),c=l(8460),p=l(1919),v=l(2559),f=l(2132),N=o.createElement;function g(){var e=(0,s.Z)(["\n  query GetUserRecord($input: userInput!) {\n    getUserRecord(input: $input) {\n      message\n      record {\n        _id\n        firstName\n        displayName\n        email\n        lastName\n      }\n    }\n  }\n"]);return g=function(){return e},e}function y(){var e=(0,s.Z)(["\n  mutation UpdateUserProfile($input: updateUserProfileInput!) {\n    updateUserProfile(input: $input) {\n      message\n    }\n  }\n"]);return y=function(){return e},e}var h=(0,m.Ps)(y()),x=(0,m.Ps)(g());a.default=(0,v.Z)({ssr:!1})((function(){var e,a,l,n,s,m=null===(e=localStorage)||void 0===e?void 0:e.getItem("userId"),v=(0,c.t)(x),g=(0,t.Z)(v,2),y=g[0],b=g[1],q=(b.loading,b.error,b.data),_=b.refetch,w=(0,d.cI)({defaultValues:{firstName:"",lastName:"",displayName:"",email:""}}),E=(w.register,w.handleSubmit),C=(w.watch,w.setValue),T=w.reset,U=w.formState.errors,P=w.control;(0,o.useEffect)((function(){y({variables:{input:{_id:m}}})}),[m]),(0,o.useEffect)((function(){if(q&&q.getUserRecord&&q.getUserRecord.record){var e,a,l,n,r=q.getUserRecord.record.firstName;C("firstName",r),C("lastName",null===(e=q.getUserRecord.record)||void 0===e?void 0:e.lastName),C("email",null===(a=q.getUserRecord.record)||void 0===a?void 0:a.email),C("displayName",null===q||void 0===q||null===(l=q.getUserRecord)||void 0===l||null===(n=l.record)||void 0===n?void 0:n.displayName)}}),[q]);var k=(0,p.D)(h),F=(0,t.Z)(k,1)[0],R=function(){var e=(0,i.Z)(r().mark((function e(a){var l,n,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a._id=m,e.prev=1,e.next=4,F({variables:{input:{firstName:a.firstName,email:null===a||void 0===a?void 0:a.email,lastName:null===a||void 0===a?void 0:a.lastName,displayName:null===a||void 0===a?void 0:a.displayName}}});case 4:(l=e.sent)&&(f.Am.success(null===l||void 0===l||null===(n=l.data)||void 0===n||null===(i=n.updateUserProfile)||void 0===i?void 0:i.message),T(),_()),SetIsOtp(!0),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log("error",e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(a){return e.apply(this,arguments)}}(),I={firstName:{required:"FirstName is required"},lastName:{required:"LastName is required"},displayName:{required:"DisplayName is required"},email:{required:"Email is required"}};return N("main",{className:"main main-test"},N("div",{className:" d-flex flex-column align-items-center",style:{backgroundColor:"#F9F9F9"}},N("ul",{className:"checkout-progress-bar d-flex justify-content-center flex-wrap"},N("li",null,N(u.Z,{href:"/pages/account"},"My Account")),N("li",{className:"active"},N(u.Z,{href:"/pages/accountdetails"},"Account Details")))),N("div",{className:"container checkout-container"},N("div",{className:"row"},N("div",{className:"col-lg-12"},N("ul",{className:"checkout-steps"},N("li",null,N("div",{className:"container",style:{marginTop:"3rem",borderBottom:"1px solid",borderColor:"#E2E2E2",padding:"2px"}},N("h2",{className:"step-title"},"Account Details")),N("form",{onSubmit:E(R),id:"checkout-form"},N("div",{className:"row"},N("div",{className:"col-md-6 mb-2"},N("div",{className:"form-group mb-0"},N("label",{style:{fontFamily:"Poppins",fontWeight:"400px",lineHeight:"20px"}},"First name"," ",N("ab",{className:"required",title:"required"},"*")),N(d.Qr,{control:P,name:"firstName",render:function(e){var a=e.field,l=a.onChange,n=a.value;return N("input",{type:"text",className:"form-control",value:n,onChange:l,style:{marginTop:"10px"}})},rules:I.firstName})),null!==U&&void 0!==U&&U.firstName?N("div",{style:{color:"red",marginTop:"10px"}},null===U||void 0===U||null===(a=U.firstName)||void 0===a?void 0:a.message):null),N("div",{className:"col-md-6"},N("div",{className:"form-group mb-0"},N("label",{style:{fontFamily:"Poppins",fontWeight:"400px",lineHeight:"20px"}},"Last name"," ",N("ab",{className:"required",title:"required"},"*")),N(d.Qr,{control:P,name:"lastName",render:function(e){var a=e.field,l=a.onChange,n=a.value;return N("input",{type:"text",className:"form-control",value:n,onChange:l,style:{marginTop:"10px"}})},rules:I.lastName})),null!==U&&void 0!==U&&U.lastName?N("div",{style:{color:"red",marginTop:"10px"}},null===U||void 0===U||null===(l=U.lastName)||void 0===l?void 0:l.message):null),N("div",{className:"col-md-6"},N("div",{className:"form-group mb-0"},N("label",{style:{fontFamily:"Poppins",fontWeight:"400px",lineHeight:"20px"}},"Display name"," ",N("ab",{className:"required",title:"required"},"*")),N(d.Qr,{control:P,name:"displayName",render:function(e){var a=e.field,l=a.onChange,n=a.value;return N("input",{type:"text",className:"form-control mb-0",style:{marginTop:"10px"},value:n,onChange:l})},rules:I.displayName})),null!==U&&void 0!==U&&U.displayName?N("div",{style:{color:"red",marginTop:"10px"}},null===U||void 0===U||null===(n=U.displayName)||void 0===n?void 0:n.message):null)),N("p",{style:{fontFamily:"Poppins",fontWeight:"400px",fontSize:"12px",lineHeight:"26px"}},"This will be how your name will be displayed in the account section and in reviews"),N("div",{className:"form-group mb-0"},N("label",{style:{fontFamily:"Poppins",fontWeight:"400px",lineHeight:"20px"}},"Email address"," ",N("ab",{className:"required",title:"required"},"*")),N(d.Qr,{control:P,name:"email",render:function(e){var a=e.field,l=a.onChange,n=a.value;return N("input",{type:"email",className:"form-control ",style:{marginTop:"10px"},value:n,onChange:l})},rules:I.email}),null!==U&&void 0!==U&&U.email?N("div",{style:{color:"red",marginTop:"10px"}},null===U||void 0===U||null===(s=U.email)||void 0===s?void 0:s.message):null),N("div",{className:"container",style:{display:"flex",justifyContent:"flex-end"}},N("div",{className:"mt-3"}," ",N("button",{type:"submit",className:"btn btn-dark mr-0"},"Save changes"))))))))))}))},4331:function(e,a,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pages/accountdetails",function(){return l(2052)}])}},function(e){e.O(0,[2439,9774,2888,179],(function(){return a=4331,e(e.s=a);var a}));var a=e.O();_N_E=a}]);