(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6436],{2023:function(t,e,n){"use strict";n.r(e);var r=n(6265),s=n(809),a=n.n(s),c=n(2447),o=n(4121),i=n(7261),u=n(7294),l=n(8216),d=n(2679),p=n(8974),m=n(5708),f=n(2806),h=n(6723),v=n(6058),b=n(1919),w=n(4718),g=n(3331),N=(n(4922),n(2132)),k=u.createElement;function y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function P(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?y(Object(n),!0).forEach((function(e){(0,r.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function O(){var t=(0,i.Z)(["mutation RemoveFromWishList($input: RemoveFromWishListInput!) {\n  removeFromWishList(input: $input) {\n    message\n  }\n}"]);return O=function(){return t},t}function x(){var t=(0,i.Z)(["\nquery GetCart {\n  getCart {\n    products {\n      _id\n      productId\n      quantity\n      name\n      shortDescription\n      stock\n      color\n      size\n      price\n      image\n      sellingPrice\n      mrp\n    }\n    grandTotal\n    subTotal\n    deliveryCharge\n  }\n}\n"]);return x=function(){return t},t}function I(){var t=(0,i.Z)(["\nmutation AddToCart($input: addToCartInput!) {\n  addToCart(input: $input) {\n    message\n  }\n}\n"]);return I=function(){return t},t}function Z(){var t=(0,i.Z)(["query Products {\n  getWishListProducts {\n    products {\n      image\n      productId\n      productName\n      sellingPrice\n      shortDescription\n    }\n  }\n}"]);return Z=function(){return t},t}var j=(0,v.Ps)(Z()),_=(0,v.Ps)(I()),C=(0,v.Ps)(x()),D=(0,v.Ps)(O());e.default=(0,g.Z)({ssr:!1})((0,l.$j)((function(t){return{wishlist:t.wishlist.list?t.wishlist.list:[]}}),P(P(P({},m.Nw),f.Nw),h.Nw))((function(t){t.wishlist,t.removeFromWishlist;var e=t.showQuickView,n=(0,u.useState)(0),r=n[0],s=(n[1],(0,u.useState)([])),i=s[0],l=s[1],m=(0,b.D)(_),f=(0,o.Z)(m,1)[0],h=(0,b.D)(D),v=(0,o.Z)(h,1)[0],g=localStorage.getItem("arabtoken"),y=(0,w.a)(C,{skip:!g}),P=(y.data,y.loading,y.error,y.refetch),O=(0,w.a)(j,{skip:!g,fetchPolicy:"network-only"}),x=O.data,I=(O.loading,O.error),Z=O.refetch;(0,u.useEffect)((function(){I?console.log(I):i&&l((null===x||void 0===x?void 0:x.getWishListProducts.products)||[])}),[x]);var E=function(){var t=(0,c.Z)(a().mark((function t(e,n){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!n){t.next=8;break}return t.next=4,v({variables:{input:{productId:n.productId}}});case 4:if(!t.sent){t.next=8;break}return Z(),t.abrupt("return",N.Am.success("Successfully product removed to cart"));case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,n){return t.apply(this,arguments)}}(),S=function(){var t=(0,c.Z)(a().mark((function t(e,n){var r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.preventDefault(),t.prev=1,!n){t.next=11;break}return t.next=5,f({variables:{input:{productId:n.productId,quantity:1}}});case 5:if(r=t.sent,console.log(r,"resp"),!r){t.next=11;break}return P(),Z(),t.abrupt("return",N.Am.success("Successfully product added to cart"));case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e,n){return t.apply(this,arguments)}}();return k("main",{className:"main"},k("div",{className:"page-header"},k("div",{className:"container d-flex flex-column align-items-center"},k("h1",null,"Wishlist"))),k("div",{className:"container"},k("div",{className:"success-alert"},1===r?k("p",null,"Product successfully removed."):"",2===r?k("p",null,"Product added to cart successfully."):""),0===(null===i||void 0===i?void 0:i.length)?k("div",{className:"wishlist-table-container"},k("div",{className:"table table-wishlist mb-0"},k("div",{className:"wishlist-empty-page text-center"},k("i",{className:"far fa-heart"}),k("p",null,"No products added to the wishlist"),k(p.Z,{href:"/shop",className:"btn btn-dark btn-add-cart product-type-simple btn-shop font1 w-auto"},"go shop"," ")))):k("div",{className:"wishlist-table-container"},k("table",{className:"table table-wishlist mb-0"},k("thead",null,k("tr",null,k("th",{className:"thumbnail-col"},"Product"),k("th",{className:"product-col"}),k("th",{className:"price-col"},"Price"),k("th",{className:"status-col"},"Stock Status"),k("th",{className:"action-col"},"Actions"))),k("tbody",null,null===i||void 0===i?void 0:i.map((function(t,n){var r;return k("tr",{key:"wishlist-item"+n,className:"product-row",style:{borderBottom:"1px solid #e7e7e7"}},k("td",{className:"media-with-lazy"},k("figure",{className:"product-image-container"},k(p.Z,{href:"/product/default/".concat(null===t||void 0===t?void 0:t.productId),className:"product-image"},k(d.LazyLoadImage,{alt:"product",src:t.image,threshold:500,width:"80",height:"80"})),k("a",{className:"btn-remove icon-cancel",title:"Remove Product",onClick:function(e){return E(e,t)}}))),k("td",null,k("h5",{className:"product-title"},k(p.Z,{href:"/product/default/".concat(t.productId)},null===t||void 0===t?void 0:t.productName))),k("td",{style:{color:"black"}},k("div",{className:"price-box"},k("span",{className:"product-price",style:{color:"#000"}},"OMR "+(null===t||void 0===t?void 0:t.sellingPrice)))),k("td",null,k("span",{className:"stock-status"},t.stock<=0?"Out of stock":"In stock")),k("td",{className:"action"},k("a",{href:"ajax/product-quick-view",className:"btn btn-quickview mt-1 mt-md-0",title:"Quick View",onClick:function(n){!function(t,n){t.preventDefault(),e(n.productId)}(n,t)},style:{border:"1px solid"}},"Quick View"),(null===t||void 0===t||null===(r=t.variants)||void 0===r?void 0:r.length)>0?k(p.Z,{className:"btn btn-dark btn-add-cart product-type-simple btn-shop",href:"/product/default/".concat(t.slug)},"select options"):k("button",{className:"btn btn-dark btn-add-cart product-type-simple btn-shop hoverbtn",onClick:function(e){S(e,t)}},"ADD TO CART")))})))))))})))},9855:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pages/wishlist",function(){return n(2023)}])}},function(t){t.O(0,[9774,2888,179],(function(){return e=9855,t(t.s=e);var e}));var e=t.O();_N_E=e}]);